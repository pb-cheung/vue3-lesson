<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>runtime-dom</title>
  </head>

  <body>
    <div id="app"></div>
    <script type="module">
      import {
        // createRenderer,
        // render,
        h,
      } from '/node_modules/vue/dist/vue.runtime.esm-browser.js';

      import { renderOptions, render } from './runtime-dom.js';
      // console.log("ðŸš€ ~ createRenderer:", createRenderer, render, h)

      // 1. createRenderer æˆ‘ä»¬å¯ä»¥è‡ªå·±åˆ›å»ºæ¸²æŸ“å™¨
      // 2. render ç”¨å†…ç½®çš„æ¸²æŸ“å™¨æ¥è¿›è¡Œæ¸²æŸ“
      // 3. hæ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªè™šæ‹ŸDOM (type, propsOrChildren, children)

      // runtime-dom å®ƒçš„ä½œç”¨å°±æ˜¯æä¾›DOM APIï¼ˆæä¾›ä¸€ç³»åˆ—domæ“ä½œçš„apiæ–¹æ³•ï¼‰
      // runtime-dom -> @vue/runtime-core -> @vue/reactivity

      // let ele = h('h1', 'handsome pb');
      // console.log(ele)

      // render(ele, app)

      // const renderer = createRenderer({
      //   createElement(type) {
      //     console.log('ðŸš€ ~ createElement ~ type:', type);
      //     // éœ€è¦åˆ›å»ºä¸€ä¸ªå…ƒç´ 
      //     // canvas å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨å“åº”çš„apiæ¸²æŸ“
      //     return document.createElement(type);
      //   },
      //   setElementText(el, text) {
      //     el.textContent = text;
      //   },
      //   insert(el, container) {
      //     container.appendChild(el);
      //   },
      // });
      // renderer.render(ele, app);

      // éªŒè¯è‡ªå·±å®žçŽ°çš„rennderOptions
      // let ele = h(
      //   'h1',
      //   {
      //     style: { color: 'red' },
      //     class: 'abc',
      //     onClick: () => alert(1),
      //     a: 12,
      //   },
      //   'handsome pb'
      // );
      // const renderer = createRenderer(renderOptions);
      // renderer.render(ele, app);

      // runtime-core å®žçŽ°
      // let ele1 = h(
      //   'h1',
      //   {
      //     style: { color: 'red' },
      //     class: 'abc',
      //     onClick: () => alert(1),
      //     a: 12,
      //   },
      //   'handsome pb'
      // );

      // runtime-core æ•°ç»„
      let ele1 = h('h1', [h('p', 'hello'), h('p', 'world')]);
      let ele2 = h('h2', { style: { color: 'green' } }, 'handsome pb');
      render(ele1, app);

      setTimeout(() => {
        render(ele2, app);
      }, 3000);
    </script>
  </body>
</html>
